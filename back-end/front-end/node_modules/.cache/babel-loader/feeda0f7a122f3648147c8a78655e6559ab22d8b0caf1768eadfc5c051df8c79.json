{"ast":null,"code":"import { createSlice } from '@reduxjs/toolkit';\nimport { useSelector } from \"react-redux\";\nimport _ from 'lodash';\nconst initialState = {\n  show: false,\n  navData: [],\n  previousNavId: null\n};\nconst sideBarSlice = createSlice({\n  name: 'sideBarSlice',\n  initialState,\n  reducers: {\n    showHandle: (state, payload) => {\n      // if(state.show == false){\n      //     state.show = true\n      // }\n      if (!state.previousNavId) {\n        state.show = !state.show;\n      } else {\n        if (state.previousNavId && state.previousNavId === payload.payload.navId) {\n          state.show = !state.show;\n        }\n      }\n      let tempData = _.cloneDeep(payload.payload.navData);\n      let subNavIndex = tempData.findIndex(temp => temp._id == payload.payload.navId);\n      tempData.map(item => {\n        if (item._id == payload.payload.navId) {\n          item.subNav = tempData[subNavIndex].subNav;\n          if (state.show) {\n            item.rightIcon = \"fa-solid fa-chevron-down nav-icon\";\n          } else {\n            item.rightIcon = \"fa-solid fa-chevron-right nav-icon\";\n          }\n        } else {\n          item.subNav = [];\n          item.rightIcon = \"fa-solid fa-chevron-right nav-icon\";\n        }\n      });\n\n      // if( state.previousNavId && state.previousNavId == payload.payload.navId){\n\n      //     state.show = !state.show\n      //     if(state.show == false){\n      //         tempData[subNavIndex].rightIcon = \"fa-solid fa-chevron-down nav-icon\" \n      //     }else{\n      //         tempData[subNavIndex].rightIcon = \"fa-solid fa-chevron-right nav-icon\" \n      //     }\n\n      // }\n\n      state.navData = tempData;\n      state.previousNavId = payload.payload.navId;\n    },\n    addData: (state, payload) => {\n      state.navData = payload.payload;\n    },\n    checkPermission: (state, payload) => {\n      console.log(payload.payload);\n      console.log(state.navData);\n    },\n    handelSubNav: (state, payload) => {\n      state.show = true;\n    }\n  }\n});\nexport const {\n  showHandle,\n  addData,\n  checkPermission,\n  handelSubNav\n} = sideBarSlice.actions;\nexport default sideBarSlice.reducer;","map":{"version":3,"names":["createSlice","useSelector","_","initialState","show","navData","previousNavId","sideBarSlice","name","reducers","showHandle","state","payload","navId","tempData","cloneDeep","subNavIndex","findIndex","temp","_id","map","item","subNav","rightIcon","addData","checkPermission","console","log","handelSubNav","actions","reducer"],"sources":["D:/e-commerce/back-end/front-end/src/features/sideBarSlice.js"],"sourcesContent":["import {createSlice} from '@reduxjs/toolkit'\r\nimport { useSelector } from \"react-redux\"\r\nimport _ from 'lodash'\r\n\r\n \r\nconst initialState = {\r\n    show:false,\r\n    navData:[],\r\n    previousNavId : null\r\n    \r\n}\r\n\r\nconst sideBarSlice = createSlice({\r\n    name:'sideBarSlice',\r\n    initialState,\r\n    reducers:{\r\n        showHandle:(state,payload)=>{\r\n                // if(state.show == false){\r\n                //     state.show = true\r\n                // }\r\n            if(!state.previousNavId){\r\n                state.show = !state.show\r\n            }else{\r\n                if(state.previousNavId && state.previousNavId === payload.payload.navId){\r\n                    state.show = !state.show\r\n                }\r\n            }\r\n            \r\n            let tempData = _.cloneDeep(payload.payload.navData) \r\n            \r\n            let subNavIndex = tempData.findIndex((temp)=>temp._id == payload.payload.navId)\r\n    \r\n\r\n    \r\n            tempData.map((item)=>{\r\n                \r\n                if(item._id == payload.payload.navId){\r\n                    item.subNav = tempData[subNavIndex].subNav\r\n                    if(state.show){\r\n                        item.rightIcon = \"fa-solid fa-chevron-down nav-icon\" \r\n                    }else{\r\n                        item.rightIcon = \"fa-solid fa-chevron-right nav-icon\" \r\n                    }\r\n                    \r\n                }else{\r\n                    item.subNav = []\r\n                    item.rightIcon = \"fa-solid fa-chevron-right nav-icon\" \r\n                }\r\n            })\r\n\r\n\r\n    \r\n            // if( state.previousNavId && state.previousNavId == payload.payload.navId){\r\n                \r\n            //     state.show = !state.show\r\n            //     if(state.show == false){\r\n            //         tempData[subNavIndex].rightIcon = \"fa-solid fa-chevron-down nav-icon\" \r\n            //     }else{\r\n            //         tempData[subNavIndex].rightIcon = \"fa-solid fa-chevron-right nav-icon\" \r\n            //     }\r\n                \r\n            // }\r\n            \r\n            state.navData = tempData\r\n            state.previousNavId = payload.payload.navId\r\n        },\r\n        addData:(state,payload)=>{\r\n            state.navData = payload.payload\r\n            \r\n        },\r\n\r\n        checkPermission:(state,payload)=>{\r\n            console.log(payload.payload)\r\n            console.log(state.navData)\r\n        },\r\n\r\n        handelSubNav:(state,payload)=>{\r\n            state.show = true\r\n        }\r\n    }\r\n})\r\n\r\nexport const {showHandle,addData,checkPermission,handelSubNav} = sideBarSlice.actions\r\n\r\nexport default sideBarSlice.reducer"],"mappings":"AAAA,SAAQA,WAAW,QAAO,kBAAkB;AAC5C,SAASC,WAAW,QAAQ,aAAa;AACzC,OAAOC,CAAC,MAAM,QAAQ;AAGtB,MAAMC,YAAY,GAAG;EACjBC,IAAI,EAAC,KAAK;EACVC,OAAO,EAAC,EAAE;EACVC,aAAa,EAAG;AAEpB,CAAC;AAED,MAAMC,YAAY,GAAGP,WAAW,CAAC;EAC7BQ,IAAI,EAAC,cAAc;EACnBL,YAAY;EACZM,QAAQ,EAAC;IACLC,UAAU,EAAC,CAACC,KAAK,EAACC,OAAO,KAAG;MACpB;MACA;MACA;MACJ,IAAG,CAACD,KAAK,CAACL,aAAa,EAAC;QACpBK,KAAK,CAACP,IAAI,GAAG,CAACO,KAAK,CAACP,IAAI;MAC5B,CAAC,MAAI;QACD,IAAGO,KAAK,CAACL,aAAa,IAAIK,KAAK,CAACL,aAAa,KAAKM,OAAO,CAACA,OAAO,CAACC,KAAK,EAAC;UACpEF,KAAK,CAACP,IAAI,GAAG,CAACO,KAAK,CAACP,IAAI;QAC5B;MACJ;MAEA,IAAIU,QAAQ,GAAGZ,CAAC,CAACa,SAAS,CAACH,OAAO,CAACA,OAAO,CAACP,OAAO,CAAC;MAEnD,IAAIW,WAAW,GAAGF,QAAQ,CAACG,SAAS,CAAEC,IAAI,IAAGA,IAAI,CAACC,GAAG,IAAIP,OAAO,CAACA,OAAO,CAACC,KAAK,CAAC;MAI/EC,QAAQ,CAACM,GAAG,CAAEC,IAAI,IAAG;QAEjB,IAAGA,IAAI,CAACF,GAAG,IAAIP,OAAO,CAACA,OAAO,CAACC,KAAK,EAAC;UACjCQ,IAAI,CAACC,MAAM,GAAGR,QAAQ,CAACE,WAAW,CAAC,CAACM,MAAM;UAC1C,IAAGX,KAAK,CAACP,IAAI,EAAC;YACViB,IAAI,CAACE,SAAS,GAAG,mCAAmC;UACxD,CAAC,MAAI;YACDF,IAAI,CAACE,SAAS,GAAG,oCAAoC;UACzD;QAEJ,CAAC,MAAI;UACDF,IAAI,CAACC,MAAM,GAAG,EAAE;UAChBD,IAAI,CAACE,SAAS,GAAG,oCAAoC;QACzD;MACJ,CAAC,CAAC;;MAIF;;MAEA;MACA;MACA;MACA;MACA;MACA;;MAEA;;MAEAZ,KAAK,CAACN,OAAO,GAAGS,QAAQ;MACxBH,KAAK,CAACL,aAAa,GAAGM,OAAO,CAACA,OAAO,CAACC,KAAK;IAC/C,CAAC;IACDW,OAAO,EAAC,CAACb,KAAK,EAACC,OAAO,KAAG;MACrBD,KAAK,CAACN,OAAO,GAAGO,OAAO,CAACA,OAAO;IAEnC,CAAC;IAEDa,eAAe,EAAC,CAACd,KAAK,EAACC,OAAO,KAAG;MAC7Bc,OAAO,CAACC,GAAG,CAACf,OAAO,CAACA,OAAO,CAAC;MAC5Bc,OAAO,CAACC,GAAG,CAAChB,KAAK,CAACN,OAAO,CAAC;IAC9B,CAAC;IAEDuB,YAAY,EAAC,CAACjB,KAAK,EAACC,OAAO,KAAG;MAC1BD,KAAK,CAACP,IAAI,GAAG,IAAI;IACrB;EACJ;AACJ,CAAC,CAAC;AAEF,OAAO,MAAM;EAACM,UAAU;EAACc,OAAO;EAACC,eAAe;EAACG;AAAY,CAAC,GAAGrB,YAAY,CAACsB,OAAO;AAErF,eAAetB,YAAY,CAACuB,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}